<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DSF Event Tracker</title>
  <!-- External CSS -->
  <link rel="stylesheet" type="text/css" href="https://runeapps.org/nis/nis.css" />
  <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
</head>
<body class="nis body" id="body">

  <!-- Tabs Navigation -->
  <div class="tabs">
      <div class="tabs__tab tabs__tab--active" data-tab="mainTab">Main</div>
      <div class="tabs__tab" data-tab="settingsTab">Settings</div>
      <div class="tabs__tab" data-tab="scoutsTab">Scouts</div>
      <div class="tabs__tab" data-tab="statusTab">
        Status <span id="statusNotification" class="status__notification">!</span>
      </div>
  </div>

  <!-- Main Tab Content -->
  <div id="mainTab" class="tabs__content tabs__content--active">
      <h2>DSF Event Tracker</h2>
      <p>Welcome to the DSF Event Tracker!</p>
      <p>
          To provide any suggestions, bugs, or feedback, please message in the
          <a href="https://discord.com/channels/420803245758480405/1295898952717303848"
             target="_blank" title="Join the discussion on Discord">
             alt1 thread.
          </a>
      </p>
  </div>

  <!-- Settings Tab Content -->
  <div id="settingsTab" class="tabs__content">
      <form id="settingsForm">
          <div class="form__group">
              <label for="discordID">Discord ID</label>
              <input type="text" id="discordID" placeholder="Enter Discord ID" maxlength="20", title="Enter your own Discord ID if you want your stats tracking." />
          </div>
          <div class="form__group">
              <label for="rsn">RSN</label>
              <input type="text", id="rsn", placeholder="Enter RSN", maxlength="12" title="Main character name."/>
          </div>
          <div class="form__group">
              <label for="captureFrequency">Screen Capture Frequency</label>
              <input type="number", id="captureFrequency", placeholder="Capture frequency (seconds)", min="1", max="10", title="Higher number reduces capturing rate, max=10." value="2"/>
          </div>
          <div class="form__group">
            <label for="favoriteEvents" title="Select multiple options">Favorite Events (Multi-Select)</label>
              <select id="favoriteEvents" multiple size="5">
                <option value="Travelling merchant">Travelling merchant</option>
                <option value="Whirlpool">Whirlpool</option>
                <option value="Treasure Turtle">Treasure Turtle</option>
                <option value="Arkaneo">Arkaneo</option>
                <option value="Monster">Monster</option>
                <option value="Jellyfish">Jellyfish</option>
                <option value="Whale">Whale</option>
                <option value="Sea Monster">Sea Monster</option>
             </select>
          </div>
          <div class="form__group">
            <label for="favoriteEventsMode">Favorite Events Mode</label>
            <select id="favoriteEventsMode">
              <option value="none">None</option>
              <option value="pin">Pin to top</option>
              <option value="highlight">Highlight</option>
              <option value="only">Only show favorites</option>
            </select>
          </div>
        <div class="form__group">
            <button type="submit">Save Settings</button>
        </div>
      </form>
  </div>

  <!-- Scouts Tab Content -->
<div id="scoutsTab" class="tabs__content">
    <div class="sub-tabs">
        <div class="sub-tab sub-tab--active" data-subtab="eventHistoryTab">Event History</div>
        <div class="sub-tab" data-subtab="profileTab">Profile</div>
    </div>

  <!-- Event History Sub-Tab -->
    <div class="sub-tab__content__container">
        <div id="eventHistoryWrapper" class="event-history-wrapper">
            <div id="eventHistoryTab" class="sub-tab__content sub-tab__content--active">
                <div class="table-scroll">
                    <table class="event-table">
                    <thead>
                        <tr>
                            <th>
                                <button id="infoButton" class="info-button" title="Click for info">ℹ️</button>
                            </th>
                            <th>Event</th>
                            <th>World</th>
                            <th>Time Left</th>
                            <th>Reported By</th>
                        </tr>
                    </thead>
                    <tbody id="eventHistoryBody">
                        <!-- JS will insert rows here -->
                    </tbody>
                    </table>
                </div>
                <div class="event-footer">
                    <div class="footer-left">
                        <label>
                            <input type="checkbox" id="hideExpiredCheckbox" />
                            Hide Expired
                        </label>
                        <label id="debugContainer">
                            <button id="testWS">WS Event</button>
                        </label>
                    </div>
                    <div class="footer-right">
                        <button id="clearHistoryBtn">Clear All</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Sub-Tab -->
        <div id="profileTab" class="sub-tab__content">
            <h3>Your Profile</h3>
            <div id="profileStats">
                <!-- For example, show total events reported, etc. -->
                <p>Total Events Reported: <span id="profileEventsReported">0</span></p>
                <p>Merch Events: <span id="profileMerchCount">0</span></p>
                <p>Fisherman Events: <span id="profileFishermanCount">0</span></p>
                <!-- and so on -->
            </div>
        </div>
    </div>
</div>

  <!-- Status Tab Content -->
  <div id="statusTab" class="tabs__content">
      <h2>Status</h2>
      <div class="status">
          <span id="statusIcon" class="status__icon">✅</span>
          <span id="statusMessage">Everything seems to be running smoothly.</span>
      </div>
  </div>

<!-- Modal for displaying button info -->
<div id="infoModal" class="modal">
    <div class="modal-content">
      <span class="close" title="Close">&times;</span>
      <h2>Tracker Information</h2>
      <p>Buttons:</p>
      <ul>
        <li>
          <img
            src="./close_button.png"
            alt="Close Button"
            class="button-icon"
          />
          Removes the expired event.
        </li>
        <li>
          <img
            src="./edit_button.png"
            alt="Edit Event Button"
            class="button-icon"
          />
          Allows you to update or correct an existing event. Available only to Scouters.
        </li>
      </ul>
    </div>
  </div>
  
  

  <!-- External JavaScript -->
  <script src="./main.js"></script>
</body>
</html>
